(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0017":function(e,t,a){"use strict";a("550e")},"550e":function(e,t,a){},"9ed6":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),r=function(e){return Object(n["pushScopeId"])("data-v-3f51c317"),e=e(),Object(n["popScopeId"])(),e},o={class:"login"},c={class:"panel box"},l=r((function(){return Object(n["createElementVNode"])("div",{class:"h2"},"Welcome to Sign in",-1)})),s=Object(n["createTextVNode"])("Login"),u=Object(n["createTextVNode"])("Login");function i(e,t,a,r,i,d){var f=Object(n["resolveComponent"])("r-button"),p=Object(n["resolveComponent"])("r-form");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createElementVNode"])("div",c,[l,e.check2FAFlag?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:1,ref:"formRef2FA",model:e.data2FA.formData,data:e.data2FA.formItem.list,cols:e.data2FA.formItem.cols},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{onClick:e.handlelogin2FA,type:"primary",class:"btn marginTop"},{default:Object(n["withCtx"])((function(){return[u]})),_:1},8,["onClick"])]})),_:1},8,["model","data","cols"])):(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:0,ref:"formRef",model:e.data.formData,data:e.data.formItem.list,cols:e.data.formItem.cols},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{onClick:e.handlelogin,type:"primary",class:"btn"},{default:Object(n["withCtx"])((function(){return[s]})),_:1},8,["onClick"])]})),_:1},8,["model","data","cols"]))])])}var d=a("1da1"),f=(a("96cf"),a("e9c4"),a("5502")),p=a("61be"),m=Object(n["defineComponent"])({setup:function(){var e=Object(n["getCurrentInstance"])(),t=e.appContext.config.globalProperties.$message,a={formData:{username:"",password:""},formItem:{cols:1,list:[{type:"input",placeholder:"Account",value:"username",rules:[{required:!0,message:"Please input your account"}]},{type:"password",placeholder:"Password",value:"password",rules:[{required:!0,message:"Please input your password"}]}]}},r={formData:{code:"",token:""},formItem:{cols:1,list:[{type:"input",placeholder:"2FA code",value:"code",rules:[{required:!0,message:"Please input 2FA code"}]}]}},o=Object(n["ref"])(null),c=Object(n["ref"])(null),l=Object(n["ref"])(!1),s=Object(f["b"])(),u=function(e){localStorage.setItem("__token",JSON.stringify(e.token)),localStorage.setItem("__tokenType",e.tokenType),s.dispatch("account/login",e)},i=function(){o.value.validate(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(n){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=12;break}return e.prev=1,e.next=4,Object(p["n"])(a.formData);case 4:o=e.sent,o&&"Login"===o.tokenType&&u(o),o&&"Check2FA"===o.tokenType&&(l.value=!0,r.formData.token=o.token,a.formData.username="",a.formData.password=""),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),t(e.t0.message,"error");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())},m=function(){c.value.validate(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=12;break}return e.prev=1,e.next=4,Object(p["h"])(r.formData);case 4:n=e.sent,n&&"Login"===n.tokenType&&u(n),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),"RMC10201"===e.t0.code&&(l.value=!1,r.formData.code="",r.formData.token=""),t(e.t0.message,"error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())};return{formRef:o,formRef2FA:c,check2FAFlag:l,data:a,data2FA:r,handlelogin:i,handlelogin2FA:m}}}),b=(a("0017"),a("6b0d")),k=a.n(b);const g=k()(m,[["render",i],["__scopeId","data-v-3f51c317"]]);t["default"]=g}}]);
//# sourceMappingURL=login.3734b329.js.map